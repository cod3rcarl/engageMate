{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mcintosh/Desktop/Final/front-end-final-project-callback-cats/thumb-o-meter/src/pages/thumb-o-meter/ptViewThumbometer.js.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport NavBar from \"../../components/navBar\";\nimport styles from \"./index.module.css\";\nimport PtView from \"../../components/ptView\";\nimport SkView from \"../../components/skView\";\nimport { createStandaloneToast, LightMode } from \"@chakra-ui/react\";\nimport useRoleContext from \"../../context/roleContext\";\nimport CustomButton from \"../../components/button\";\nimport { ArrowBackIcon } from \"@chakra-ui/icons\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport { Flex, Box, Center, useColorModeValue } from \"@chakra-ui/react\"; // import socketIOClient from \"socket.io-client\";\n\nimport { config } from \"../../config\";\nimport useSocketContext from \"../../context/socketContext\";\nconst {\n  url\n} = config; // const ENDPOINT = url;\n// let socket;\n\nconst PThumbometer = () => {\n  _s();\n\n  // const [speakerView, setSpeakerView] = useState();\n  const [data, setData] = useState({});\n  const [time, setTime] = useState(0);\n  const [count, setCount] = useState(0);\n  const bg = useColorModeValue(\"white\", \"#110042\");\n  const color = useColorModeValue(\"white\", \"white\");\n  const context = useSocketContext();\n  const socket = context[0];\n  console.log(socket);\n  const result = useRoleContext();\n  const role = result[0];\n  const loggedUser = result[2];\n  const name = loggedUser === null || loggedUser === void 0 ? void 0 : loggedUser.given_name;\n  useEffect(() => {\n    // socket = socketIOClient(ENDPOINT);\n    // socket.emit(\"connection\");\n    //join room request - get name, role from auth\n    socket.emit(\"joinroom\", {\n      name: name,\n      //take from auth\n      role: role,\n      room: \"thumbometer\"\n    }); //listen for thumb update, take in session data\n    //useEffect - pass down session data obj\n    //start thumb session listener - destructures data and timer, sets state\n\n    socket.on(\"thumbUpdate\", ({\n      sessionData\n    }) => {\n      setData(sessionData);\n      console.log(\"thumb updated\");\n    });\n    socket.on(\"counter\", counter => {\n      setCount(counter);\n      console.log(counter);\n    }); //finished listener - sets final data state\n    // socket.on(\"finished\", () => {\n    //   //disable slider here - state\n    //   setCount(0);\n    // });\n    // return () => socket.disconnect();\n  }, []); //pass down & call in ppt view - saves sessionData object\n\n  function submitData(val) {\n    socket.emit(\"submission\", {\n      value: val\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      className: styles.container,\n      bg: bg,\n      color: color,\n      h: \"50%\",\n      w: \"100%\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: styles.heading,\n          children: \"Thumb-O-Meter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        className: styles.backButton,\n        children: /*#__PURE__*/_jsxDEV(CustomButton, {\n          link: \"/\",\n          icon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 40\n          }, this),\n          text: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(LightMode, {\n          children: /*#__PURE__*/_jsxDEV(PtView, {\n            data: data,\n            submit: submitData,\n            time: time,\n            count: count,\n            bg: bg,\n            color: color\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PThumbometer, \"JPD/dzKzYVqyB0sKRLmImLyiKTo=\", false, function () {\n  return [useColorModeValue, useColorModeValue, useSocketContext, useRoleContext];\n});\n\n_c = PThumbometer;\nexport default PThumbometer;\n\nvar _c;\n\n$RefreshReg$(_c, \"PThumbometer\");","map":{"version":3,"sources":["/Users/mcintosh/Desktop/Final/front-end-final-project-callback-cats/thumb-o-meter/src/pages/thumb-o-meter/ptViewThumbometer.js.js"],"names":["React","useState","useEffect","NavBar","styles","PtView","SkView","createStandaloneToast","LightMode","useRoleContext","CustomButton","ArrowBackIcon","useLocalStorage","Flex","Box","Center","useColorModeValue","config","useSocketContext","url","PThumbometer","data","setData","time","setTime","count","setCount","bg","color","context","socket","console","log","result","role","loggedUser","name","given_name","emit","room","on","sessionData","counter","submitData","val","value","container","heading","backButton"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport NavBar from \"../../components/navBar\";\nimport styles from \"./index.module.css\";\nimport PtView from \"../../components/ptView\";\nimport SkView from \"../../components/skView\";\nimport { createStandaloneToast, LightMode } from \"@chakra-ui/react\";\nimport useRoleContext from \"../../context/roleContext\";\nimport CustomButton from \"../../components/button\";\nimport { ArrowBackIcon } from \"@chakra-ui/icons\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport { Flex, Box, Center, useColorModeValue } from \"@chakra-ui/react\";\n// import socketIOClient from \"socket.io-client\";\nimport { config } from \"../../config\";\nimport useSocketContext from \"../../context/socketContext\";\nconst { url } = config;\n// const ENDPOINT = url;\n// let socket;\n\nconst PThumbometer = () => {\n  // const [speakerView, setSpeakerView] = useState();\n  const [data, setData] = useState({});\n  const [time, setTime] = useState(0);\n  const [count, setCount] = useState(0);\n  const bg = useColorModeValue(\"white\", \"#110042\");\n  const color = useColorModeValue(\"white\", \"white\");\n  const context = useSocketContext();\n  const socket = context[0];\n  console.log(socket);\n  const result = useRoleContext();\n  const role = result[0];\n  const loggedUser = result[2];\n  const name = loggedUser?.given_name;\n\n  useEffect(() => {\n    // socket = socketIOClient(ENDPOINT);\n    // socket.emit(\"connection\");\n    //join room request - get name, role from auth\n    socket.emit(\"joinroom\", {\n      name: name, //take from auth\n      role: role,\n      room: \"thumbometer\",\n    });\n\n    //listen for thumb update, take in session data\n    //useEffect - pass down session data obj\n\n    //start thumb session listener - destructures data and timer, sets state\n\n    socket.on(\"thumbUpdate\", ({ sessionData }) => {\n      setData(sessionData);\n      console.log(\"thumb updated\");\n    });\n\n    socket.on(\"counter\", (counter) => {\n      setCount(counter);\n      console.log(counter);\n    });\n\n    //finished listener - sets final data state\n    // socket.on(\"finished\", () => {\n    //   //disable slider here - state\n    //   setCount(0);\n    // });\n\n    // return () => socket.disconnect();\n  }, []);\n\n  //pass down & call in ppt view - saves sessionData object\n  function submitData(val) {\n    socket.emit(\"submission\", { value: val });\n  }\n\n  return (\n    <Flex>\n      <Box className={styles.container} bg={bg} color={color} h=\"50%\" w=\"100%\">\n        <NavBar />\n        <Center>\n          <h1 className={styles.heading}>Thumb-O-Meter</h1>\n        </Center>\n        <Center className={styles.backButton}>\n          <CustomButton link=\"/\" icon={<ArrowBackIcon />} text={\"Back\"} />\n        </Center>\n\n        <Center>\n          <LightMode>\n            <PtView\n              data={data}\n              submit={submitData}\n              time={time}\n              count={count}\n              bg={bg}\n              color={color}\n            />\n          </LightMode>\n        </Center>\n      </Box>\n    </Flex>\n  );\n};\n\nexport default PThumbometer;\n"]},"metadata":{},"sourceType":"module"}