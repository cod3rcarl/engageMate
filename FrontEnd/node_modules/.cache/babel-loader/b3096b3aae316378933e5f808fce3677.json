{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mcintosh/Desktop/Final/front-end-final-project-callback-cats/thumb-o-meter/src/components/skPollResults/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport style from \"./index.module.css\";\nimport { Button, Progress, Stack, LightMode } from \"@chakra-ui/react\";\nimport useRoleContext from \"../../context/roleContext\";\nimport useSocketContext from \"../../context/socketContext\";\n\nfunction SkPollResults({\n  stopPoll\n}) {\n  _s();\n\n  const result = useRoleContext();\n  const role = result[0];\n  const loggedUser = result[2];\n  const socketdata = useSocketContext();\n  const socket = socketdata[0];\n  const [data, setData] = useState();\n  console.log({\n    role\n  });\n  console.log({\n    data\n  });\n\n  function calculateProgressBar(option) {\n    const totalVotes = data.options.reduce((acc, curr) => acc + curr[2], 0);\n    const resultvalue = option[2] / totalVotes * 100;\n    console.log(resultvalue);\n    return resultvalue;\n  }\n\n  useEffect(() => {\n    socket.on(\"resultsUpdate\", ({\n      data\n    }) => {\n      console.log({\n        data\n      }, \"skPollResults sockets\");\n      setData(data); //question, uuid, correct answer, options\n\n      console.log({\n        data\n      }, \"resultsUpdate\");\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.resultsDiv,\n    children: /*#__PURE__*/_jsxDEV(LightMode, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Live Poll Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [data ? data.options.reduce((acc, curr) => acc + curr[2], 0) : \"\", \" \\uD83D\\uDC65\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Question:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), \" \", data ? data.question : \"question\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 5,\n        children: data === null || data === void 0 ? void 0 : data.options.map((option, i) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Option \", option[0]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 19\n              }, this), \": \", option[1]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Progress, {\n              colorScheme: Number(data.correctAnswer) === option[0] ? \"green\" : \"red\",\n              style: {\n                borderRadius: \"30px\"\n              },\n              value: calculateProgressBar(option) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), role !== \"bootcamper\" && /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"red\",\n        onClick: stopPoll,\n        children: \"Stop Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SkPollResults, \"vW7snszjkhQmQB2oXG94cB8E6bM=\", false, function () {\n  return [useRoleContext, useSocketContext];\n});\n\n_c = SkPollResults;\nexport default SkPollResults;\n\nvar _c;\n\n$RefreshReg$(_c, \"SkPollResults\");","map":{"version":3,"sources":["/Users/mcintosh/Desktop/Final/front-end-final-project-callback-cats/thumb-o-meter/src/components/skPollResults/index.js"],"names":["React","useEffect","useState","style","Button","Progress","Stack","LightMode","useRoleContext","useSocketContext","SkPollResults","stopPoll","result","role","loggedUser","socketdata","socket","data","setData","console","log","calculateProgressBar","option","totalVotes","options","reduce","acc","curr","resultvalue","on","resultsDiv","question","map","i","Number","correctAnswer","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport style from \"./index.module.css\";\r\nimport { Button, Progress, Stack, LightMode } from \"@chakra-ui/react\";\r\nimport useRoleContext from \"../../context/roleContext\";\r\nimport useSocketContext from \"../../context/socketContext\";\r\n\r\nfunction SkPollResults({ stopPoll }) {\r\n  const result = useRoleContext();\r\n  const role = result[0];\r\n  const loggedUser = result[2];\r\n  const socketdata = useSocketContext();\r\n  const socket = socketdata[0];\r\n  const [data, setData] = useState();\r\n  console.log({ role });\r\n  console.log({ data });\r\n\r\n  function calculateProgressBar(option) {\r\n    const totalVotes = data.options.reduce((acc, curr) => acc + curr[2], 0);\r\n    const resultvalue = (option[2] / totalVotes) * 100;\r\n    console.log(resultvalue);\r\n    return resultvalue;\r\n  }\r\n\r\n  useEffect(() => {\r\n    socket.on(\"resultsUpdate\", ({ data }) => {\r\n      console.log({ data }, \"skPollResults sockets\");\r\n      setData(data);\r\n      //question, uuid, correct answer, options\r\n      console.log({ data }, \"resultsUpdate\");\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={style.resultsDiv}>\r\n      <LightMode>\r\n        <h1>Live Poll Results</h1>\r\n        {/* Display set question, options & progress bar for each*/}\r\n        <p>\r\n          {data ? data.options.reduce((acc, curr) => acc + curr[2], 0) : \"\"} ðŸ‘¥\r\n        </p>\r\n        <h2>\r\n          <strong>Question:</strong> {data ? data.question : \"question\"}\r\n        </h2>\r\n        <Stack spacing={5}>\r\n          {/* render options and progress bars here\r\n          from data */}\r\n          {data?.options.map((option, i) => {\r\n            return (\r\n              <div key={i}>\r\n                <p>\r\n                  <strong>Option {option[0]}</strong>: {option[1]}\r\n                </p>\r\n                <Progress\r\n                  colorScheme={\r\n                    Number(data.correctAnswer) === option[0] ? \"green\" : \"red\"\r\n                  }\r\n                  style={{ borderRadius: \"30px\" }}\r\n                  value={calculateProgressBar(option) || 0}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </Stack>\r\n\r\n        {role !== \"bootcamper\" && (\r\n          <Button colorScheme=\"red\" onClick={stopPoll}>\r\n            Stop Session\r\n          </Button>\r\n        )}\r\n      </LightMode>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SkPollResults;\r\n"]},"metadata":{},"sourceType":"module"}