{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mcintosh/Desktop/Final/front-end-final-project-callback-cats/thumb-o-meter/src/components/spotify/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport request from \"request\";\nimport SpotifyButton from \"../../components/button/spotifyButton\";\nimport { config } from \"../../config\";\nimport style from \"./spotify.module.css\";\n\nfunction Spotify() {\n  _s();\n\n  const id = config.spotifyID;\n  const secret = config.spotifySecret;\n  const [playlist, setPlaylist] = useState({});\n  const [url, setUrl] = useState(\"\");\n  const [playlistIndex, setPlaylistIndex] = useState(Math.floor(Math.random() * 50));\n  const [genre, setGenre] = useState(\"workout\");\n  const [station, setStation] = useState(\"Squat FM\");\n\n  function newGenre(genre, station) {\n    setGenre(genre);\n    setStation(station);\n    handleClick();\n  }\n\n  console.log(genre);\n\n  function handleClick() {\n    setPlaylistIndex(Math.floor(Math.random() * 50));\n    console.log(playlistIndex);\n  }\n\n  useEffect(() => {\n    async function getTunes() {\n      //const auth = await fetch();\n      //     \"https://accounts.spotify.com/authorize?client_id=e75f118de4624c43bede99894b2522bd&response_type=code&redirect_uri=soc-spotify-app://localhost:3000%2Fcallback&scope=user-read-private%20user-read-email&state=34fFs29kd09\"\n      //   console.log(auth);\n      // const request = require(\"request\"); // \"Request\" library\n      //   const client_id = id; // Your client id\n      //   const client_secret = secret; // Your secret\n      // your application requests authorization\n      const authOptions = {\n        url: \"https://accounts.spotify.com/api/token\",\n        headers: {\n          Authorization: \"Basic \" + Buffer.from(id + \":\" + secret).toString(\"base64\")\n        },\n        form: {\n          grant_type: \"client_credentials\"\n        },\n        json: true\n      };\n      request.post(authOptions, async function (error, response, body) {\n        if (!error && response.statusCode === 200) {\n          // use the access token to access the Spotify Web API\n          const token = body.access_token;\n          const options = {\n            url: `https://api.spotify.com/v1/browse/categories/${genre}/playlists?country=US&limit=50`,\n            headers: {\n              Authorization: \"Bearer \" + token\n            },\n            json: true\n          };\n          request.get(options, async function (error, response, body) {\n            console.log(body.playlists);\n            const playlist = body.playlists.items[playlistIndex];\n            console.log(playlist);\n            const newPlaylist = {\n              description: playlist.description,\n              name: playlist.name,\n              images: playlist.images[0].url,\n              tracks: playlist.tracks.href,\n              uri: playlist.uri.slice(17)\n            };\n            console.log(playlist.description);\n            setPlaylist(newPlaylist);\n            playlist.uri && setUrl(`https://open.spotify.com/embed/playlist/${newPlaylist.uri}`);\n          });\n        }\n      });\n    }\n\n    genre && getTunes();\n  }, [playlistIndex, genre, id, secret]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: style.underline,\n      children: \" Spotify Deck\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), station && /*#__PURE__*/_jsxDEV(\"h6\", {\n      children: [\"You Are Now Listening to \", station]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Choose Your Station\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SpotifyButton, {\n        myClass: style.myBtn,\n        handleClick: newGenre,\n        genre: \"workout\",\n        station: \"Squat FM\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SpotifyButton, {\n        myClass: style.myBtn,\n        handleClick: newGenre,\n        genre: \"jazz\",\n        station: \"Energizer FM\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SpotifyButton, {\n        myClass: style.myBtn,\n        handleClick: newGenre,\n        genre: \"classical\",\n        station: \"Recap Task FM\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SpotifyButton, {\n        myClass: style.myPlaylistBtn,\n        handleClick: handleClick,\n        station: \"New Playlist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), playlist.name && /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: playlist.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n        title: \"playlist\",\n        src: url // https://open.spotify.com/embed/playlist/spotify:playlist:37i9dQZF1DX76Wlfdnj7AP\n        ,\n        width: \"300\",\n        height: \"380\",\n        frameBorder: \"0\",\n        allowtransparency: \"true\",\n        allow: \"encrypted-media\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"myImage\",\n        src: playlist.images,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Spotify, \"AT860YZ9OPsl+bY+FX7PSiXL/w4=\");\n\n_c = Spotify;\nexport default Spotify;\n\nvar _c;\n\n$RefreshReg$(_c, \"Spotify\");","map":{"version":3,"sources":["/Users/mcintosh/Desktop/Final/front-end-final-project-callback-cats/thumb-o-meter/src/components/spotify/index.js"],"names":["React","useEffect","useState","request","SpotifyButton","config","style","Spotify","id","spotifyID","secret","spotifySecret","playlist","setPlaylist","url","setUrl","playlistIndex","setPlaylistIndex","Math","floor","random","genre","setGenre","station","setStation","newGenre","handleClick","console","log","getTunes","authOptions","headers","Authorization","Buffer","from","toString","form","grant_type","json","post","error","response","body","statusCode","token","access_token","options","get","playlists","items","newPlaylist","description","name","images","tracks","href","uri","slice","underline","myBtn","myPlaylistBtn"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport request from \"request\";\nimport SpotifyButton from \"../../components/button/spotifyButton\";\nimport { config } from \"../../config\";\nimport style from \"./spotify.module.css\";\n\nfunction Spotify() {\n  const id = config.spotifyID;\n  const secret = config.spotifySecret;\n\n  const [playlist, setPlaylist] = useState({});\n  const [url, setUrl] = useState(\"\");\n  const [playlistIndex, setPlaylistIndex] = useState(\n    Math.floor(Math.random() * 50)\n  );\n  const [genre, setGenre] = useState(\"workout\");\n  const [station, setStation] = useState(\"Squat FM\");\n\n  function newGenre(genre, station) {\n    setGenre(genre);\n    setStation(station);\n    handleClick();\n  }\n  console.log(genre);\n  function handleClick() {\n    setPlaylistIndex(Math.floor(Math.random() * 50));\n    console.log(playlistIndex);\n  }\n\n  useEffect(() => {\n    async function getTunes() {\n      //const auth = await fetch();\n      //     \"https://accounts.spotify.com/authorize?client_id=e75f118de4624c43bede99894b2522bd&response_type=code&redirect_uri=soc-spotify-app://localhost:3000%2Fcallback&scope=user-read-private%20user-read-email&state=34fFs29kd09\"\n\n      //   console.log(auth);\n\n      // const request = require(\"request\"); // \"Request\" library\n\n      //   const client_id = id; // Your client id\n      //   const client_secret = secret; // Your secret\n\n      // your application requests authorization\n      const authOptions = {\n        url: \"https://accounts.spotify.com/api/token\",\n        headers: {\n          Authorization:\n            \"Basic \" + Buffer.from(id + \":\" + secret).toString(\"base64\"),\n        },\n        form: {\n          grant_type: \"client_credentials\",\n        },\n        json: true,\n      };\n\n      request.post(authOptions, async function(error, response, body) {\n        if (!error && response.statusCode === 200) {\n          // use the access token to access the Spotify Web API\n          const token = body.access_token;\n          const options = {\n            url: `https://api.spotify.com/v1/browse/categories/${genre}/playlists?country=US&limit=50`,\n            headers: {\n              Authorization: \"Bearer \" + token,\n            },\n            json: true,\n          };\n          request.get(options, async function(error, response, body) {\n            console.log(body.playlists);\n\n            const playlist = body.playlists.items[playlistIndex];\n            console.log(playlist);\n\n            const newPlaylist = {\n              description: playlist.description,\n              name: playlist.name,\n              images: playlist.images[0].url,\n              tracks: playlist.tracks.href,\n              uri: playlist.uri.slice(17),\n            };\n            console.log(playlist.description);\n            setPlaylist(newPlaylist);\n            playlist.uri &&\n              setUrl(\n                `https://open.spotify.com/embed/playlist/${newPlaylist.uri}`\n              );\n          });\n        }\n      });\n    }\n    genre && getTunes();\n  }, [playlistIndex, genre, id, secret]);\n\n  return (\n    <div>\n      <h1 className={style.underline}> Spotify Deck</h1>\n      {station && <h6>You Are Now Listening to {station}</h6>}\n\n      <div>\n        <h5>Choose Your Station</h5>\n        <SpotifyButton\n          myClass={style.myBtn}\n          handleClick={newGenre}\n          genre={\"workout\"}\n          station={\"Squat FM\"}\n        />\n        <SpotifyButton\n          myClass={style.myBtn}\n          handleClick={newGenre}\n          genre={\"jazz\"}\n          station={\"Energizer FM\"}\n        />\n        <SpotifyButton\n          myClass={style.myBtn}\n          handleClick={newGenre}\n          genre={\"classical\"}\n          station={\"Recap Task FM\"}\n        />\n        <SpotifyButton\n          myClass={style.myPlaylistBtn}\n          handleClick={handleClick}\n          station={\"New Playlist\"}\n        />{\" \"}\n      </div>\n\n      {playlist.name && <h5>{playlist.name}</h5>}\n      <div className=\"box\">\n        <iframe\n          title=\"playlist\"\n          src={url}\n          // https://open.spotify.com/embed/playlist/spotify:playlist:37i9dQZF1DX76Wlfdnj7AP\n          width=\"300\"\n          height=\"380\"\n          frameBorder=\"0\"\n          allowtransparency=\"true\"\n          allow=\"encrypted-media\"\n        ></iframe>\n        <img className=\"myImage\" src={playlist.images} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nexport default Spotify;\n"]},"metadata":{},"sourceType":"module"}