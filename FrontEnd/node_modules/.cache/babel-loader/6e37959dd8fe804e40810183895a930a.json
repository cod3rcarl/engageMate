{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mcintosh/Desktop/Final/front-end-final-project-callback-cats/thumb-o-meter/src/pages/featureMenu/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport Title from \"../../components/heading\";\nimport Header from \"../../components/navBar\";\nimport Menu from \"../../components/menu\";\nimport Footer from \"../../components/footer\";\nimport \"./index.module.css\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { Box, useColorModeValue } from \"@chakra-ui/react\";\nimport socketIOClient from \"socket.io-client\";\nimport { config } from \"../../config\";\nconst {\n  url\n} = config;\nconst ENDPOINT = url;\nlet socket;\n\nconst FeaturedMenu = () => {\n  _s();\n\n  const {\n    user\n  } = useAuth0();\n  const bg = useColorModeValue(\"white\", \"#110042\");\n  const color = useColorModeValue(\"#110042\", \"white\");\n  useEffect(() => {\n    // socket = socketIOClient(ENDPOINT);\n    // socket.emit(\"connection\");\n    //join room request - get name, role from auth\n    socket.emit(\"joinroom\", {\n      name: name,\n      //take from auth\n      role: role,\n      room: \"thumbometer\"\n    }); //listen for thumb update, take in session data\n    //useEffect - pass down session data obj\n    //start thumb session listener - destructures data and timer, sets state\n\n    socket.on(\"startThumb\", ({\n      sessionData,\n      timer\n    }) => {\n      setData(sessionData);\n      setTime(timer);\n      console.log(\"start thumb recieved\");\n    });\n    socket.on(\"thumbUpdate\", ({\n      sessionData\n    }) => {\n      setData(sessionData);\n      console.log(\"thumb updated\");\n    });\n    socket.on(\"counter\", counter => {\n      setCount(counter);\n      console.log(counter);\n    }); //finished listener - sets final data state\n\n    socket.on(\"finished\", ({\n      sessionData\n    }) => {\n      setData(sessionData);\n      console.log(\"finished session\");\n      console.log({\n        sessionData\n      }); //call function that posts to session table\n      //success or burnt toast\n\n      role === \"coach\" && name === sessionData.coach && handleSubmit({\n        sessionData\n      }); //disable slider here - state\n\n      setCount(0);\n    }); // return () => socket.disconnect();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    bg: bg,\n    color: color,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      bg: bg,\n      color: color\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      text: \"Nice to see you again\",\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      bg: bg,\n      color: color\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FeaturedMenu, \"07p6lK7bqcqe2KNPU0WckaJ0LHo=\", false, function () {\n  return [useAuth0, useColorModeValue, useColorModeValue];\n});\n\n_c = FeaturedMenu;\nexport default FeaturedMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"FeaturedMenu\");","map":{"version":3,"sources":["/Users/mcintosh/Desktop/Final/front-end-final-project-callback-cats/thumb-o-meter/src/pages/featureMenu/index.js"],"names":["React","useEffect","Title","Header","Menu","Footer","useAuth0","Box","useColorModeValue","socketIOClient","config","url","ENDPOINT","socket","FeaturedMenu","user","bg","color","emit","name","role","room","on","sessionData","timer","setData","setTime","console","log","counter","setCount","coach","handleSubmit"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport Title from \"../../components/heading\";\nimport Header from \"../../components/navBar\";\nimport Menu from \"../../components/menu\";\nimport Footer from \"../../components/footer\";\nimport \"./index.module.css\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { Box, useColorModeValue } from \"@chakra-ui/react\";\nimport socketIOClient from \"socket.io-client\";\nimport { config } from \"../../config\";\nconst { url } = config;\nconst ENDPOINT = url;\n\nlet socket;\n\nconst FeaturedMenu = () => {\n  const { user } = useAuth0();\n  const bg = useColorModeValue(\"white\", \"#110042\");\n  const color = useColorModeValue(\"#110042\", \"white\");\n\n  useEffect(() => {\n    // socket = socketIOClient(ENDPOINT);\n    // socket.emit(\"connection\");\n    //join room request - get name, role from auth\n    socket.emit(\"joinroom\", {\n      name: name, //take from auth\n      role: role,\n      room: \"thumbometer\",\n    });\n\n    //listen for thumb update, take in session data\n    //useEffect - pass down session data obj\n\n    //start thumb session listener - destructures data and timer, sets state\n    socket.on(\"startThumb\", ({ sessionData, timer }) => {\n      setData(sessionData);\n      setTime(timer);\n      console.log(\"start thumb recieved\");\n    });\n\n    socket.on(\"thumbUpdate\", ({ sessionData }) => {\n      setData(sessionData);\n      console.log(\"thumb updated\");\n    });\n\n    socket.on(\"counter\", (counter) => {\n      setCount(counter);\n      console.log(counter);\n    });\n\n    //finished listener - sets final data state\n    socket.on(\"finished\", ({ sessionData }) => {\n      setData(sessionData);\n      console.log(\"finished session\");\n      console.log({ sessionData });\n      //call function that posts to session table\n      //success or burnt toast\n      role === \"coach\" &&\n        name === sessionData.coach &&\n        handleSubmit({ sessionData });\n      //disable slider here - state\n      setCount(0);\n    });\n\n    // return () => socket.disconnect();\n  }, []);\n\n  return (\n    <Box bg={bg} color={color}>\n      <Header bg={bg} color={color} />\n      <Title text=\"Nice to see you again\" user={user} />\n      <Menu />\n      <Footer bg={bg} color={color} />\n    </Box>\n  );\n};\n\nexport default FeaturedMenu;\n"]},"metadata":{},"sourceType":"module"}